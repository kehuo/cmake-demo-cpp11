# cmake-demo-cpp11

该仓库为C++11的示例项目，旨在于展示如何用 cmake 系统构建 C++11项目。

# 项目产出

该项目用于构建一个计算机软件。它的产出包括3部分：

- 一个可以被其他程序动态链接的动态库
- 一个可以被其他程序静态链接的静态库
- 一个可执行程序，执行该程序将提供一个交互式环境，用于执行该项目提供的基本计算机功能


# 项目结构

该demo示例的项目结构参考了 [这篇文档][C++ Project Structure Blog Link]。对于一个常见的C++11项目，它通常包含以下内容：

- 可以被编译的源(代码)文件
- 包含程序入口的、可以被编译的源(代码)文件
- 共有头文件
- 私有头文件
- 文档
- 单元测试
- 项目的使用示例
- 一些被嵌入到当前项目中的第三方库
- 其他插件，如语言绑定、可选插件、平台绑定等

同时，从一个项目中构建出多个子模块是非常常见的，而且这些子模块之间可能也会互相依赖。拆分子模块会极大提升项目构建的复杂度，但是这个需求很常见，很重要，而且并非没有解决办法。

总之，一个好的C++11项目必须有能力处理拆分子项目这个需求。

同时，项目的布局通常包含**物理布局**和**逻辑布局**2个概念：

- 逻辑布局设计：更接近“编程语言级别”设计时考虑的因素。
- 物理布局设计：与编程语言无关的结构设计。

我们这里讨论的项目结构，更多的是物理布局，包括文件命名、目录，等等。


# 物理布局
物理布局中，**组件(component)**是最基础的单元。在这篇文档中，一个 **组件** 精确(exactly)地包括2个文件：
- *.cpp 源代码文件
- *.h   头文件

当然，有一些场景中，可能一个 **组件** 包含多个 .cpp 源代码文件可能更适合，我们暂时不讨论这种情况，后面会针对这种情况介绍如何优化项目的物理布局结构。

## 逻辑布局/物理布局的一致性

在该项目中，我们认为单个**逻辑组件**和单个**物理组件**必须是 1:1 的关系。以下两种情况都是**不允许的**：
- 不允许单个**逻辑组件**分散在多个**物理组件**中。
- 不允许多个**逻辑组件**集中出现在单个**物理组件**中。


[C++ Project Structure Blog Link]: https://api.csswg.org/bikeshed/?force=1&url=https://raw.githubusercontent.com/vector-of-bool/pitchfork/develop/data/spec.bs

